new WOW().init();
$(window).scroll(function () {
  if ($(this).scrollTop() > 50) {
    $("#scroll-header").addClass("fixtopheader");
  } else {
    $("#scroll-header").removeClass("fixtopheader");
  }
});
$(".banner-slider").owlCarousel({
  loop: true,
  nav: true,
  navText: [
    '<i class="fa fa-angle-left" aria-hidden="true"></i>',
    '<i class="fa fa-angle-right" aria-hidden="true"></i>',
  ],
  dots: false,
  margin: 10,
  responsiveClass: true,
  responsive: {
    0: {
      items: 1,
    },
    600: {
      items: 1,
    },
    1000: {
      items: 1,
    },
  },
});
$(".notable-alumni-slider").owlCarousel({
  loop: true,
  nav:true,
  dots:true,
  responsiveClass: true,
  responsive: {
    0: {
      items: 1,
    },
    600: {
      items: 1,
    },
    1000: {
      items: 1,
    },
  },
});
$("#accolades").owlCarousel({
  loop: true,
  margin: 20,
  nav: false,
  autoplay: true,
  responsive: {
    0: {
      items: 2,
      stagePadding: 30,
    },
    600: {
      items: 3,
    },
    1000: {
      items: 5,
    },
  },
});
$("#testimonials-slider").owlCarousel({
  loop: true,
  margin: 30,
  nav: false,
  autoplay: true,
  responsive: {
    0: {
      items: 1,
      stagePadding: 30,
    },
    600: {
      items: 2,
    },
    1000: {
      items: 3,
    },
  },
});
$("#course-slider").owlCarousel({
      loop: true,
            nav:true,
            navText: [
              '<i class="fa fa-angle-left"></i>',
              '<i class="fa fa-angle-right"></i>',
            ],
            dots:false,
            autoplay: true, // Enable auto-play
            autoplayTimeout: 3000, // Set auto-play timeout in milliseconds
            margin: 30,
            responsiveClass: true,
            responsive: {
                                0: {
                                  items: 1,
                                  margin: 0,
                                },
                                600: {
                                  items: 1,
                                  margin: 0,
                                },
                                1000: {
                                  items: 4,
                                }, 
    },
  }
);
$("#service-slider").owlCarousel({
  loop: false,
  nav: true,
  navText: [
    '<i class="fa fa-angle-left" aria-hidden="true"></i>',
    '<i class="fa fa-angle-right" aria-hidden="true"></i>',
  ],
  dots: false,
  margin: 50,
  responsiveClass: true,
  responsive: {
    0: {
      items: 1,
      margin: 0,
    },
    600: {
      items: 1,
      margin: 0,
    },
    1000: {
      items: 3,
    },
  },
});
$(".accordion").on("show.bs.collapse", function () {
  $(".accordion .collapse").collapse("hide");
});
$(".education-slider").owlCarousel({
  loop: true,
  margin: 10,
  dots: true,
  nav: false,
  responsive: {
    0: {
      items: 1,
    },
    600: {
      items: 1,
    },
    1000: {
      items: 1,
    },
  },
});
$(".publication-slider").owlCarousel({
  loop: true,
  margin: 30,
  dots: true,
  nav: true,
  navText: [
    '<i class="fas fa-arrow-left"></i>',
    '<i class="fas fa-arrow-right"></i>',
  ],
  responsive: {
    0: {
      items: 1,
    },
    600: {
      items: 2,
    },
    1000: {
      items: 3,
    },
  },
});
// show only first 3 blog items by default
var numberToShow = 6;
if ($(".filter-item").length <= numberToShow) {
  $("#show-more, #show-less").hide();
}
$(".filter-item:gt(" + (numberToShow - 1) + ")").hide();
$("#show-more").click(function () {
  $(".filter-item:hidden").show("slow");
  $("#show-more").hide();
  $("#show-less").show();
});
$("#show-less").click(function () {
  $(".filter-item")
    .not(":lt(" + numberToShow + ")")
    .hide("slow");
  $("#show-less").hide();
  $("#show-more").show();
});
$("#facilities-slider").owlCarousel({
  loop: false,
  nav: true,
  navText: [
    '<i class="fa fa-angle-left" aria-hidden="true"></i>',
    '<i class="fa fa-angle-right" aria-hidden="true"></i>',
  ],
  dots: false,
  margin: 30,
  responsiveClass: true,
  responsive: {
    0: {
      items: 1,
      margin: 0,
    },
    600: {
      items: 1,
      margin: 0,
    },
    1000: {
      items: 6,
    },
  },
});
function hiderror() {
  setTimeout(function () {
    $(".error").fadeOut();
    $(".errormsg2").fadeOut();
  }, 3000);
}
$("#dreamjobform").submit(function (e) {
  e.preventDefault();
  //alert();
  var regex =
    /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
  if ($("#first_name").val() == "") {
    $("#fname_error").show();
    hiderror();
  } else if ($("#last_name").val() == "") {
    $("#lname_error").show();
    hiderror();
  } else if (!regex.test($("#email_id").val())) {
    $("#email_error").show();
    hiderror();
  } else if ($("#phone_number").val() == "") {
    $("#number_error").show();
    hiderror();
  } else if ($("#message_cmc").val() == "") {
    $("#message_error").show();
    hiderror();
  } else {
    var form = $("#dreamjobform")[0];
    var formData = new FormData(form);
    $("#subbtn").attr("disabled", true);
    $(".pleasewait").css("display", "inline-block");
    $.ajax({
      type: "POST",
      url: "../wp-content/themes/cmc/templates-part/contact-me-form.php",
      data: formData,
      contentType: false,
      processData: false,
      success: function (result) {
        $("#subbtn").attr("disabled", false);
        $(".pleasewait").css("display", "none");
        //$('#subbtn').html('Submit <img src="images/slider-arrow-right.png">');
        $("#dreamjobform")[0].reset();
        $("#thankyou-popup-contact2").fadeIn(500);
      },
    });
  }
});
$("#number").keyup(function (e) {
  if (/\D/g.test(this.value)) {
    // Filter non-digits from input value.
    this.value = this.value.replace(/\D/g, "");
  }
});
$("#first-name").keypress(function (e) {
  var regex = /^[a-zA-Z\s]+$/;
  var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
  if (regex.test(str)) {
    return true;
  } else {
    e.preventDefault();
    //alert('Please Enter Alphabate');
    return false;
  }
});
$("#last-name").keypress(function (e) {
  var regex = /^[a-zA-Z\s]+$/;
  var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
  if (regex.test(str)) {
    return true;
  } else {
    e.preventDefault();
    //alert('Please Enter Alphabate');
    return false;
  }
});
$(".close-popup").click(function () {
  $("#thankyou-popup-contact2").fadeOut(500);
  return false;
});
var numberToShow = 6;
if ($(".events-item").length <= numberToShow) {
  $("#show-more-events, #show-less-events").hide();
}
$(".events-item:gt(" + (numberToShow - 1) + ")").hide();
$("#show-more-events").click(function () {
  $(".events-item:hidden").show("slow");
  $("#show-more-events").hide();
  $("#show-less-events").show();
});
$("#show-less-events").click(function () {
  $(".events-item")
    .not(":lt(" + numberToShow + ")")
    .hide("slow");
  $("#show-less-events").hide();
  $("#show-more-events").show();
});
var numberToShow = 6;
if ($(".news-item").length <= numberToShow) {
  $("#show-more-news, #show-less-news").hide();
}
$(".news-item:gt(" + (numberToShow - 1) + ")").hide();
$("#show-more-news").click(function () {
  $(".news-item:hidden").show("slow");
  $("#show-more-news").hide();
  $("#show-less-news").show();
});
$("#show-less-news").click(function () {
  $(".news-item")
    .not(":lt(" + numberToShow + ")")
    .hide("slow");
  $("#show-less-news").hide();
  $("#show-more-news").show();
});
//Open links in new tabs
var links = document.querySelectorAll("a[href]");
for (var i = 0; i < links.length; i++) {
  if (links[i].hostname !== window.location.hostname) {
    links[i].setAttribute("target", "_blank");
  }
}
//Hide show modal
$(window).scroll(function () {
  var scroll = $(window).scrollTop();
  if (scroll >= 200) {
    $("#sticky-header").addClass("header-fixed slideInDown");
  } else {
    $("#sticky-header").removeClass("header-fixed slideInDown");
  }
});
//font size increase
document.addEventListener("DOMContentLoaded", function () {
  const increaseButton = document.getElementById("increase-btn");
  const decreaseButton = document.getElementById("decrease-btn");
  const normalButton = document.getElementById("normal-btn");
  const selectors = "h1, h2, h3, h4, h5, h6, p, a, span, li, a, body, html";
  const elements = document.querySelectorAll(selectors);
  elements.forEach(function (element) {
    const initialFontSize = parseFloat(
      window.getComputedStyle(element).fontSize
    );
    element.dataset.initialFontSize = initialFontSize;
  });
  let fontSizeChanges = 0;
  increaseButton.addEventListener("click", function () {
    if (fontSizeChanges < 3) {
      fontSizeChanges++;
      changeTextSize(fontSizeChanges * 1);
      updateButtonStates();
    }
  });
  decreaseButton.addEventListener("click", function () {
    if (fontSizeChanges > -3) {
      fontSizeChanges--;
      changeTextSize(fontSizeChanges * 1);
      updateButtonStates();
    }
  });
  normalButton.addEventListener("click", function () {
    fontSizeChanges = 0;
    setNormalTextSize();
    updateButtonStates();
  });
  function changeTextSize(fontSize) {
    elements.forEach(function (element) {
      const initialFontSize = parseFloat(element.dataset.initialFontSize);
      const newFontSize = initialFontSize + fontSize;
      element.style.fontSize = newFontSize + "px";
    });
  }
  function setNormalTextSize() {
    elements.forEach(function (element) {
      const initialFontSize = parseFloat(element.dataset.initialFontSize);
      element.style.fontSize = initialFontSize + "px";
    });
  }
  function updateButtonStates() {
    increaseButton.disabled = fontSizeChanges >= 3;
    decreaseButton.disabled = fontSizeChanges <= -3;
    normalButton.disabled = fontSizeChanges === 0;
  }
});
function googleTranslateElementInit() {
  new google.translate.TranslateElement(
    { pageLanguage: "en", includedLanguages : 'ar,xx,yy' },
    "google_translate_element"
  );
  var $googleDiv = $("#google_translate_element .skiptranslate");
  var $googleDivChild = $("#google_translate_element .skiptranslate div");
  $googleDivChild.next().remove();
  $googleDiv
    .contents()
    .filter(function () {
      return this.nodeType === 3 && $.trim(this.nodeValue) !== "";
    })
    .remove(excludeLanguage("fr"));
}
